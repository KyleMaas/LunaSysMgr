<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LunaSysMgr: WebAppManager.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LunaSysMgr
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.htm"><span>Namespaces</span></a></li>
      <li><a href="annotated.htm"><span>Classes</span></a></li>
      <li class="current"><a href="files.htm"><span>Files</span></a></li>
      <li><a href="dirs.htm"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.htm"><span>File&#160;List</span></a></li>
      <li><a href="globals.htm"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('WebAppManager_8h.htm','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">WebAppManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="WebAppManager_8h.htm">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef BROWSERAPPMANAGER_H</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define BROWSERAPPMANAGER_H</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="Common_8h.htm">Common.h</a>&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;QCoreApplication&gt;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="SyncTask_8h.htm">SyncTask.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="Event_8h.htm">Event.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="MemoryWatcher_8h.htm">MemoryWatcher.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="SignalSlot_8h.htm">SignalSlot.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="Timer_8h.htm">Timer.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="Window_8h.htm">Window.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="WebAppCache_8h.htm">WebAppCache.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="HostBase_8h.htm">HostBase.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;lunaservice.h&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;PIpcBuffer.h&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;PIpcClient.h&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;PIpcChannelListener.h&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;PIpcMessage.h&gt;</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">class </span><a class="code" href="classWebAppBase.htm">WebAppBase</a>;
<a name="l00057"></a>00057 <span class="keyword">class </span><a class="code" href="classProcessBase.htm">ProcessBase</a>;
<a name="l00058"></a>00058 <span class="keyword">class </span><a class="code" href="classWebPage.htm">WebPage</a>;
<a name="l00059"></a>00059 <span class="keyword">class </span><a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a>;
<a name="l00060"></a>00060 <span class="keyword">class </span><a class="code" href="classWebKitEventListener.htm">WebKitEventListener</a>;
<a name="l00061"></a>00061 <span class="keyword">class </span>PIpcChannel;
<a name="l00062"></a>00062 <span class="keyword">class </span>PalmClipboard;
<a name="l00063"></a>00063 <span class="keyword">class </span><a class="code" href="structSharedGlobalProperties.htm">SharedGlobalProperties</a>;
<a name="l00064"></a>00064 <span class="keyword">class </span>SysMgrKeyEvent;
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="WebAppManager_8h.htm#a4a31956234742e22c1f014e98d561b24">00066</a> <span class="preprocessor">#define WEB_APP_MGR_IPC_NAME &quot;WebAppManager&quot;</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00071"></a><a class="code" href="classWebAppManager.htm">00071</a> <span class="keyword">class </span><a class="code" href="classWebAppManager.htm">WebAppManager</a> : <span class="keyword">public</span> <a class="code" href="classSyncTask.htm">SyncTask</a>
<a name="l00072"></a>00072                                         , <span class="keyword">public</span> <a class="code" href="classTrackable.htm">Trackable</a>
<a name="l00073"></a>00073                                         , <span class="keyword">public</span> <a class="code" href="classPIpcClient.htm">PIpcClient</a>
<a name="l00074"></a>00074                                         , <span class="keyword">public</span> <a class="code" href="classPIpcChannelListener.htm">PIpcChannelListener</a>
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076 <span class="keyword">public</span>:
<a name="l00087"></a>00087         <span class="keyword">static</span> <a class="code" href="classWebAppManager.htm">WebAppManager</a>* <a class="code" href="classWebAppManager.htm#a23ddfa07ab71c971fd7b6b05e90456b5">instance</a>();
<a name="l00088"></a>00088         
<a name="l00100"></a>00100         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classWebAppManager.htm#a7ae867c2d3e7b8262a5dea2ddf81643e">hasBeenInstanced</a>();
<a name="l00101"></a>00101         
<a name="l00107"></a>00107         <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classWebAppManager.htm#ab73e76829c4f0444ffc937fa480e0425">getTimeZone</a>();
<a name="l00108"></a>00108         
<a name="l00116"></a>00116         <span class="keyword">virtual</span> <a class="code" href="classWebAppManager.htm#a110c022a0d9e1f524cc6c5ea43684522">~WebAppManager</a>();
<a name="l00117"></a>00117         
<a name="l00118"></a>00118         <span class="comment">//Documented in parent</span>
<a name="l00119"></a>00119         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a87036350d7f48562f6466b2ed78251b4">run</a>();
<a name="l00120"></a>00120         
<a name="l00128"></a>00128         Event::Orientation <a class="code" href="classWebAppManager.htm#af69923b9e5cc577cd398cad789256e5a">orientation</a>() <span class="keyword">const</span>;
<a name="l00129"></a>00129         
<a name="l00140"></a>00140         std::list&lt;const ProcessBase*&gt;   <a class="code" href="classWebAppManager.htm#a54a96e6129c79e0ad2364849322b3533">runningApps</a>() ;
<a name="l00141"></a>00141         
<a name="l00153"></a>00153         std::list&lt;const ProcessBase*&gt;   <a class="code" href="classWebAppManager.htm#a54a96e6129c79e0ad2364849322b3533">runningApps</a>(<a class="code" href="classWindow.htm#ad1e881db9a42ec6c27e7e4978912534d">Window::Type</a> winType);
<a name="l00154"></a>00154         
<a name="l00161"></a>00161         <a class="code" href="classWebAppBase.htm">WebAppBase</a>* <a class="code" href="classWebAppManager.htm#aef889d2d8e182cf99272e321bc144939">findApp</a>(<span class="keyword">const</span> std::string&amp; processId);
<a name="l00162"></a>00162         
<a name="l00169"></a>00169         <a class="code" href="classWebAppBase.htm">WebAppBase</a>* <a class="code" href="classWebAppManager.htm#a87ecb37699f96e94f5a136f921e7d411">findAppById</a>(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00170"></a>00170         
<a name="l00179"></a>00179         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ae3b96cc5063ed260c2e3ea4df81319ce">initiateLunaStatsReporting</a>();
<a name="l00180"></a>00180         
<a name="l00193"></a>00193         LSHandle* <a class="code" href="classWebAppManager.htm#aba9abcc1c41430052d8d22f19bb3f0aa">getStatsServiceHandle</a>() <span class="keyword">const</span>;
<a name="l00194"></a>00194         
<a name="l00202"></a>00202         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#aed4155a6c9c85010106eb113a6161649">copiedToClipboard</a>(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00203"></a>00203         
<a name="l00211"></a>00211         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a96189e68004ab307a6afa1c894fa1253">pastedFromClipboard</a>(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00212"></a>00212         
<a name="l00223"></a>00223         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a59b41a9eba71789eab129d565c7d7fdb">closePageSoon</a>(<a class="code" href="classWebPage.htm">WebPage</a>* page);
<a name="l00224"></a>00224         
<a name="l00234"></a>00234         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ad79cd091e23671d6f1c7417701cf6194">onMessageReceived</a>(<span class="keyword">const</span> PIpcMessage&amp; msg);
<a name="l00235"></a>00235         
<a name="l00242"></a>00242         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a62dff3807ddd095c64fb93eed00f40e7">onDisconnected</a>();
<a name="l00243"></a>00243         
<a name="l00251"></a>00251         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a11b4bfea7c330d0e3020ac16069a560a">setJavascriptFlags</a>( <span class="keyword">const</span> std::string&amp; flags );
<a name="l00252"></a>00252         
<a name="l00260"></a>00260         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a45bfba43fcd800ec15b39bbb86315c76">sendAsyncMessage</a>( PIpcMessage* msg);
<a name="l00261"></a>00261         
<a name="l00262"></a>00262         <span class="comment">//Documented in parent.</span>
<a name="l00263"></a>00263         <span class="comment">//No idea why this is here.</span>
<a name="l00264"></a>00264         <span class="keyword">using</span> <a class="code" href="classTaskBase.htm#a96aff6fff43b856e985a6b6ced6d5af9">TaskBase::mainLoop</a>;
<a name="l00265"></a>00265         
<a name="l00275"></a>00275         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a83ddc54a146bd603138156a7fa1be192">markUniversalSearchReady</a>();
<a name="l00276"></a>00276         
<a name="l00282"></a>00282         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#af0b176414579613c9ee247a36420ba42">closeByProcessId</a>( <span class="keyword">const</span> std::string&amp; processId );
<a name="l00283"></a>00283 
<a name="l00284"></a>00284         <span class="comment">// Host Info data cache</span>
<a name="l00299"></a>00299 <span class="comment"></span>        <span class="keyword">const</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ad964e91247693849907893557fef4083">setHostInfo</a>(<span class="keyword">const</span> <a class="code" href="structHostInfo.htm">HostInfo</a> *hostInfo);
<a name="l00300"></a>00300         
<a name="l00312"></a>00312         <span class="keyword">const</span> <a class="code" href="structHostInfo.htm">HostInfo</a>&amp; <a class="code" href="classWebAppManager.htm#af98e49244864c5d271f5e8260923a826">getHostInfo</a>() <span class="keyword">const</span>;
<a name="l00313"></a>00313         
<a name="l00322"></a>00322         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a7637244516e4a8b61ad3d4abbf3fa4e6">reportAppLaunched</a>(<span class="keyword">const</span> std::string&amp; appId, <span class="keyword">const</span> std::string&amp; processId);
<a name="l00323"></a>00323         
<a name="l00332"></a>00332         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#aa2197dd384b1c7e31bedea92fd3cb906">reportAppClosed</a>(<span class="keyword">const</span> std::string&amp; appId, <span class="keyword">const</span> std::string&amp; processId);
<a name="l00333"></a>00333         
<a name="l00343"></a><a class="code" href="classWebAppManager.htm#a1d8b90bbf888d01a10477bd375fdd090">00343</a>         <span class="keywordtype">int</span> <a class="code" href="classWebAppManager.htm#a1d8b90bbf888d01a10477bd375fdd090">currentUiWidth</a>() { <span class="keywordflow">return</span> m_uiWidth; }
<a name="l00344"></a>00344         
<a name="l00354"></a><a class="code" href="classWebAppManager.htm#a7fa0f693f0152c7c762ce070bd52dbec">00354</a>         <span class="keywordtype">int</span> <a class="code" href="classWebAppManager.htm#a7fa0f693f0152c7c762ce070bd52dbec">currentUiHeight</a>() { <span class="keywordflow">return</span> m_uiHeight; }
<a name="l00355"></a>00355         
<a name="l00366"></a><a class="code" href="classWebAppManager.htm#aaecf3c6d00a4eb7e0dbdedbcef92dd45">00366</a>         <span class="keywordtype">bool</span> <a class="code" href="classWebAppManager.htm#aaecf3c6d00a4eb7e0dbdedbcef92dd45">isDevicePortraitType</a>() { <span class="keywordflow">return</span> m_deviceIsPortraitType; }
<a name="l00367"></a>00367         
<a name="l00379"></a>00379         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ac24b7ed0ed82b52d5a433b3465458f12">disableAppCaching</a>(<span class="keywordtype">bool</span> disable);
<a name="l00380"></a>00380         
<a name="l00390"></a>00390         <span class="keyword">static</span> <a class="code" href="structSharedGlobalProperties.htm">SharedGlobalProperties</a>* <a class="code" href="classWebAppManager.htm#a9ada8029fb05c3bcbad5c47c1ad2e96e">globalProperties</a>();
<a name="l00391"></a>00391         
<a name="l00400"></a><a class="code" href="classWebAppManager.htm#a5866bdb86479a3503f3527fed8e7e89f">00400</a>         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a5866bdb86479a3503f3527fed8e7e89f">setInSimulatedMouseEvent</a>(<span class="keywordtype">bool</span> val) { m_inSimulatedMouseEvent = val; }
<a name="l00401"></a>00401         
<a name="l00410"></a><a class="code" href="classWebAppManager.htm#a0fe9c755fcb0ea48c31255a5cf9cef72">00410</a>         <span class="keywordtype">bool</span> <a class="code" href="classWebAppManager.htm#a0fe9c755fcb0ea48c31255a5cf9cef72">inSimulatedMouseEvent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_inSimulatedMouseEvent; }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 <span class="keyword">protected</span>:
<a name="l00413"></a>00413         <span class="comment">// IPC control message handlers</span>
<a name="l00427"></a>00427 <span class="comment"></span>        <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#aefe25b78f15639fe8499a24e12b98472">onLaunchUrl</a>(<span class="keyword">const</span> std::string&amp; url, <span class="keywordtype">int</span> winType,
<a name="l00428"></a>00428                                      <span class="keyword">const</span> std::string&amp; appDesc, <span class="keyword">const</span> std::string&amp; procId,
<a name="l00429"></a>00429                                          <span class="keyword">const</span> std::string&amp; args, <span class="keyword">const</span> std::string&amp; launchingAppId,
<a name="l00430"></a>00430                                          <span class="keyword">const</span> std::string&amp; launchingProcId);
<a name="l00431"></a>00431         
<a name="l00449"></a>00449         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ae19211f24d21f0c6d03f0cf549781a02">onLaunchUrlChild</a>(<span class="keyword">const</span> std::string&amp; url, <span class="keywordtype">int</span> winType,
<a name="l00450"></a>00450                                               <span class="keyword">const</span> std::string&amp; appDesc, <span class="keyword">const</span> std::string&amp; procId,
<a name="l00451"></a>00451                                                   <span class="keyword">const</span> std::string&amp; args, <span class="keyword">const</span> std::string&amp; launchingAppId,
<a name="l00452"></a>00452                                                   <span class="keyword">const</span> std::string&amp; launchingProcId, <span class="keywordtype">int</span>&amp; errorCode, <span class="keywordtype">bool</span> isHeadless);
<a name="l00453"></a>00453         
<a name="l00469"></a>00469         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a2bba205dc03e2d17e7af9cf53e41ad1d">onRelaunchApp</a>(<span class="keyword">const</span> std::string&amp; procId, <span class="keyword">const</span> std::string&amp; args,
<a name="l00470"></a>00470                                            <span class="keyword">const</span> std::string&amp; launchingAppId, <span class="keyword">const</span> std::string&amp; launchingProcId);
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <span class="comment">//void onInputEvent(int ipcKey, const SysMgrEventWrapper&amp; wrapper);</span>
<a name="l00473"></a>00473         
<a name="l00483"></a>00483         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#aed8d6836bb54bd168490750383724c52">onSetOrientation</a>(<span class="keywordtype">int</span> orient);
<a name="l00484"></a>00484         
<a name="l00492"></a>00492         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a2032767b50971a79aee30e8545b105c8">onGlobalProperties</a>(<span class="keywordtype">int</span> key);
<a name="l00493"></a>00493         
<a name="l00503"></a>00503         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#afc255fb98cf5eb342430c9606ad9b86c">onInspectByProcessId</a>( <span class="keyword">const</span> std::string&amp; processId );
<a name="l00504"></a>00504         
<a name="l00512"></a>00512         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#af947cc35be552c65680fd07ae8b0068d">performLowMemoryActions</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> allowExpensive = <span class="keyword">false</span> );
<a name="l00513"></a>00513         
<a name="l00524"></a>00524         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#aaa3a65ee2f479d6c5978bb7b7ca31b29">monitorNativeProcessMemory</a>( <span class="keyword">const</span> pid_t pid, <span class="keyword">const</span> <span class="keywordtype">int</span> maxMemory, pid_t updateFromPid = 0 );
<a name="l00525"></a>00525         
<a name="l00531"></a>00531         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a8edd09bc18b44a5d6ed92daa843ad4e0">clearWebkitCache</a>();
<a name="l00532"></a>00532         
<a name="l00543"></a>00543         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a725ff150a13bf6ee6e8af8a7c9258de5">enableDebugger</a>( <span class="keywordtype">bool</span> enable );
<a name="l00544"></a>00544         
<a name="l00555"></a>00555         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a6840696e9f54590ae548d810af636ec1">onShutdownEvent</a>();
<a name="l00556"></a>00556         
<a name="l00567"></a>00567         <span class="keywordtype">bool</span> <a class="code" href="classWebAppManager.htm#a5c213b609e4b55d1a966b1ae6d4f2745">onKillApp</a>(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00568"></a>00568         
<a name="l00587"></a>00587         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a439c9272b9f1136981f725d325bedd47">onSyncKillApp</a>(<span class="keyword">const</span> std::string&amp; appId, <span class="keywordtype">bool</span>* result);
<a name="l00588"></a>00588         
<a name="l00605"></a>00605         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a2c0ad973f79cc678d7d15f46aa7f3319">onProcMgrLaunch</a>(<span class="keyword">const</span> std::string&amp; appDescString, <span class="keyword">const</span> std::string&amp; params,
<a name="l00606"></a>00606                          <span class="keyword">const</span> std::string&amp; launchingAppId, <span class="keyword">const</span> std::string&amp; launchingProcId);
<a name="l00607"></a>00607         
<a name="l00629"></a>00629         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ad65fec6705513b7b6017c9ad0f99b02e">onProcMgrLaunchChild</a>(<span class="keyword">const</span> std::string&amp; appDescString, <span class="keyword">const</span> std::string&amp; params,
<a name="l00630"></a>00630                                  <span class="keyword">const</span> std::string&amp; launchingAppId, <span class="keyword">const</span> std::string&amp; launchingProcId, <span class="keywordtype">bool</span> isHeadless, <span class="keywordtype">bool</span> isParentPdk);
<a name="l00631"></a>00631         
<a name="l00642"></a>00642         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a4f9d41308eca294b862002dee99af008">onProcMgrLaunchBootTimApp</a>(<span class="keyword">const</span> std::string&amp; appDescString);
<a name="l00643"></a>00643         
<a name="l00664"></a>00664         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a29ddd3137b7b631e68980dcb5ec202c8">onListOfRunningAppsRequest</a>(<span class="keywordtype">bool</span> includeSysApps);
<a name="l00665"></a>00665         
<a name="l00686"></a>00686         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a2aa32a6d0b923ad414bec59df1e5638c">onDeleteHTML5Database</a>(<span class="keyword">const</span> std::string&amp; domain);
<a name="l00687"></a>00687         
<a name="l00702"></a>00702         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a28cb0f85080b116c6f3f4e2769d15dff">inputEvent</a>(<span class="keywordtype">int</span> ipcKey, <a class="code" href="classsptr.htm">sptr&lt;Event&gt;</a> e);
<a name="l00703"></a>00703         
<a name="l00712"></a>00712         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#affa9b5e9716c661c02577221f0dc0847">onUiDimensionsChanged</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height);
<a name="l00713"></a>00713         
<a name="l00724"></a>00724         <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a8558dd09a6bc1c43980af07369e74506">onSuspendWebkitProcess</a>(<span class="keywordtype">bool</span>* result);
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 <span class="keyword">protected</span>:
<a name="l00768"></a>00768         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ac6d5e66f626d13e5629ccedf8b9727ec">threadStarting</a>();
<a name="l00769"></a>00769         
<a name="l00775"></a>00775         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ae24c78fa19b8ba2ee4db84d156e9ca83">threadStopping</a>();
<a name="l00776"></a>00776         
<a name="l00792"></a>00792         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#ab85778ebfbe8ef55346d7408970e7f72">handleEvent</a>(<a class="code" href="classsptr.htm">sptr&lt;Event&gt;</a>);
<a name="l00793"></a>00793         
<a name="l00803"></a>00803         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a8ea12e7350a476a80fc075f217bcb197">windowedAppAdded</a>(<a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a> *app);
<a name="l00804"></a>00804         
<a name="l00815"></a>00815         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a81c7925f0bb7917633f010cb284623e3">windowedAppKeyChanged</a>(<a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a> *app, <span class="keywordtype">int</span> oldKey);
<a name="l00816"></a>00816         
<a name="l00826"></a>00826         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classWebAppManager.htm#a409179dea97cca3400e642d3eebbb037">windowedAppRemoved</a>(<a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a> *app);
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 <span class="keyword">private</span>:
<a name="l00829"></a>00829         <span class="keyword">static</span> gboolean BootupTimeoutCallback(gpointer);
<a name="l00830"></a>00830         <span class="keyword">static</span> gboolean BootupIdleCallback(gpointer);
<a name="l00831"></a>00831         <span class="keywordtype">void</span> bootFinished();
<a name="l00832"></a>00832 
<a name="l00833"></a>00833         <span class="keyword">static</span> <span class="keywordtype">bool</span> systemServiceConnectCallback(LSHandle *sh, LSMessage *message, <span class="keywordtype">void</span> *ctx);
<a name="l00834"></a>00834         <span class="keyword">static</span> <span class="keywordtype">bool</span> activityManagerCallback(LSHandle* sh, LSMessage* message, <span class="keywordtype">void</span>* ctx);
<a name="l00835"></a>00835         <a class="code" href="classWebAppBase.htm">WebAppBase</a>* launchUrlInternal(<span class="keyword">const</span> std::string&amp; url, <a class="code" href="classWindow.htm#ad1e881db9a42ec6c27e7e4978912534d">Window::Type</a> winType,
<a name="l00836"></a>00836                                                                   <span class="keyword">const</span> std::string&amp; appDesc, <span class="keyword">const</span> std::string&amp; procId,
<a name="l00837"></a>00837                                                                   <span class="keyword">const</span> std::string&amp; args, <span class="keyword">const</span> std::string&amp; launchingAppId,
<a name="l00838"></a>00838                                                                   <span class="keyword">const</span> std::string&amp; launchingProcId, <span class="keywordtype">int</span>&amp; errorCode, <span class="keywordtype">bool</span> launchAsChild, <span class="keywordtype">bool</span> ignoreLowMemory=<span class="keyword">false</span>);
<a name="l00839"></a>00839         <a class="code" href="classWebAppBase.htm">WebAppBase</a>* launchWithPageInternal(<a class="code" href="classWebPage.htm">WebPage</a>* page, <a class="code" href="classWindow.htm#ad1e881db9a42ec6c27e7e4978912534d">Window::Type</a> winType, <a class="code" href="classApplicationDescription.htm">ApplicationDescription</a>* parentDesc);
<a name="l00840"></a>00840         <span class="keywordtype">void</span> closeAppInternal(<a class="code" href="classWebAppBase.htm">WebAppBase</a>* app);
<a name="l00841"></a>00841         <span class="keywordtype">void</span> setOrientationInternal(Event::Orientation orient);
<a name="l00842"></a>00842 
<a name="l00843"></a>00843         <span class="keywordtype">void</span> restartHeadLessBootApps();
<a name="l00844"></a>00844 
<a name="l00845"></a>00845         <span class="keywordtype">void</span> webPageAdded(<a class="code" href="classWebPage.htm">WebPage</a>* page);
<a name="l00846"></a>00846         <span class="keywordtype">void</span> webPageRemoved(<a class="code" href="classWebPage.htm">WebPage</a>* page);
<a name="l00847"></a>00847         <span class="keywordtype">void</span> shellPageAdded(<a class="code" href="classWebPage.htm">WebPage</a>* page);
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="comment">// IME support</span>
<a name="l00850"></a>00850     <span class="keywordtype">void</span> launchIme();
<a name="l00851"></a>00851         <span class="keywordtype">void</span> launchImePopup(<span class="keyword">const</span> std::string&amp;);
<a name="l00852"></a>00852 
<a name="l00853"></a>00853         <span class="keywordtype">bool</span> preventAppUnderLowMemory(<span class="keyword">const</span> std::string&amp; appId, <a class="code" href="classWindow.htm#ad1e881db9a42ec6c27e7e4978912534d">Window::Type</a> winType, <a class="code" href="classApplicationDescription.htm">ApplicationDescription</a>* appDesc) <span class="keyword">const</span>;
<a name="l00854"></a>00854 
<a name="l00855"></a>00855         <span class="keyword">static</span> <span class="keywordtype">bool</span> sysServicePrefsCallback(LSHandle *lshandle, LSMessage *message, <span class="keywordtype">void</span> *ctx);
<a name="l00856"></a>00856         <span class="keyword">static</span> <span class="keywordtype">bool</span> displayManagerConnectCallback(LSHandle* sh, LSMessage* message, <span class="keywordtype">void</span>* ctx);
<a name="l00857"></a>00857         <span class="keyword">static</span> <span class="keywordtype">bool</span> displayManagerCallback(LSHandle* sh, LSMessage* message, <span class="keywordtype">void</span>* ctx);        
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         <span class="keywordtype">void</span> slotMemoryStateChanged(<a class="code" href="classMemoryWatcher.htm#a7518ac0006816e3d8193891077558c5d">MemoryWatcher::MemState</a> state);
<a name="l00860"></a>00860 
<a name="l00861"></a>00861         <span class="keyword">static</span> gboolean deletePagesCallback(gpointer arg);
<a name="l00862"></a>00862         <span class="keywordtype">void</span> deletePages();
<a name="l00863"></a>00863 
<a name="l00864"></a>00864         <span class="keywordtype">void</span> mimeHandoffUrl(<span class="keyword">const</span> <span class="keywordtype">char</span>* mimeType, <span class="keyword">const</span> <span class="keywordtype">char</span>* url, <span class="keyword">const</span> <span class="keywordtype">char</span>* callerId=0);
<a name="l00865"></a>00865 
<a name="l00866"></a>00866         <a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a>* appForIpcKey(<span class="keywordtype">int</span> key);
<a name="l00867"></a>00867         <a class="code" href="classWebPage.htm">WebPage</a>* takeShellPageForApp(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00868"></a>00868 
<a name="l00869"></a>00869         <span class="keywordtype">void</span> addHeadlessAppToWatchList(<a class="code" href="classWebAppBase.htm">WebAppBase</a>* app);
<a name="l00870"></a>00870         <span class="keywordtype">void</span> removeHeadlessAppFromWatchList(<a class="code" href="classWebAppBase.htm">WebAppBase</a>* app);
<a name="l00871"></a>00871         <span class="keywordtype">bool</span> headlessAppWatchCallback();
<a name="l00872"></a>00872 
<a name="l00873"></a>00873         <a class="code" href="classWebAppManager.htm">WebAppManager</a>();
<a name="l00874"></a>00874 
<a name="l00875"></a>00875         <span class="keyword">virtual</span> <span class="keywordtype">void</span> serverConnected(PIpcChannel*);
<a name="l00876"></a>00876         <span class="keyword">virtual</span> <span class="keywordtype">void</span> serverDisconnected();
<a name="l00877"></a>00877 
<a name="l00878"></a>00878         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setAppWindowProperties(<span class="keywordtype">int</span> appIpcKey, <a class="code" href="structWindowProperties.htm">WindowProperties</a> &amp;winProp);
<a name="l00879"></a>00879 
<a name="l00880"></a>00880         <span class="keywordtype">void</span> startGcPowerdActivity();
<a name="l00881"></a>00881         <span class="keywordtype">void</span> stopGcPowerdActivity();
<a name="l00882"></a>00882         <span class="keywordtype">bool</span> gcPowerdActivtyTimerCallback();
<a name="l00883"></a>00883         <span class="keywordtype">bool</span> isAppRunning(<span class="keyword">const</span> std::string&amp; appId);
<a name="l00884"></a>00884 
<a name="l00885"></a>00885     <span class="keywordtype">void</span> appDeleted(<a class="code" href="classWebAppBase.htm">WebAppBase</a>* app);
<a name="l00886"></a>00886 
<a name="l00887"></a>00887         <span class="keyword">typedef</span> std::pair&lt;std::string, WebPage*&gt; AppIdWebPagePair;
<a name="l00888"></a>00888         <span class="keyword">typedef</span> std::multimap&lt;std::string, WebPage*&gt; AppIdWebPageMap;
<a name="l00889"></a>00889         <span class="keyword">typedef</span> std::map&lt;std::string, WebPage*&gt; AppIdShellPageMap;
<a name="l00890"></a>00890         <span class="keyword">typedef</span> std::list&lt;WebAppBase*&gt; AppList;
<a name="l00891"></a>00891         <span class="keyword">typedef</span> std::list&lt;WebPage*&gt; PageList;
<a name="l00892"></a>00892         <span class="keyword">typedef</span> std::map&lt;WebAppBase*, uint32_t&gt; AppLaunchTimeMap;
<a name="l00893"></a>00893 
<a name="l00894"></a>00894         AppIdShellPageMap m_shellPageMap;
<a name="l00895"></a>00895         AppList m_appList;
<a name="l00896"></a>00896         AppIdWebPageMap m_appPageMap;
<a name="l00897"></a>00897         AppLaunchTimeMap m_headlessAppLaunchTimeMap;
<a name="l00898"></a>00898 
<a name="l00899"></a>00899         Event::Orientation m_orientation;
<a name="l00900"></a>00900         LSPalmService* m_service;
<a name="l00901"></a>00901         LSHandle* m_servicePublic;
<a name="l00902"></a>00902         LSHandle* m_servicePrivate;
<a name="l00903"></a>00903         <a class="code" href="classWebAppBase.htm">WebAppBase</a>* m_imePopupApp;
<a name="l00904"></a>00904         <a class="code" href="classWebKitEventListener.htm">WebKitEventListener</a>* m_wkEventListener;
<a name="l00905"></a>00905         PageList m_pagesToDeleteList;
<a name="l00906"></a>00906         <span class="keywordtype">bool</span> m_deletingPages;
<a name="l00907"></a>00907         <a class="code" href="classTimer.htm">Timer&lt;WebAppManager&gt;</a> m_headlessAppWatchTimer;
<a name="l00908"></a>00908 
<a name="l00909"></a>00909         <span class="keywordtype">bool</span> m_displayOn;
<a name="l00910"></a>00910         std::string m_gcPowerdActivityId;
<a name="l00911"></a>00911         <a class="code" href="classTimer.htm">Timer&lt;WebAppManager&gt;</a> m_gcPowerdActivityTimer;
<a name="l00912"></a>00912 
<a name="l00913"></a>00913         <span class="keyword">typedef</span> std::map&lt;int, WindowedWebApp*&gt; AppWindowMap;
<a name="l00914"></a>00914         AppWindowMap m_appWinMap;
<a name="l00915"></a>00915 
<a name="l00916"></a>00916         <a class="code" href="structHostInfo.htm">HostInfo</a> hostInfoCache;
<a name="l00917"></a>00917 
<a name="l00918"></a>00918         <span class="keywordtype">int</span> m_uiWidth, m_uiHeight;
<a name="l00919"></a>00919         <span class="keywordtype">bool</span> m_deviceIsPortraitType;
<a name="l00920"></a>00920         <span class="keywordtype">bool</span> m_disableAppCaching;
<a name="l00921"></a>00921 
<a name="l00922"></a>00922         <span class="keywordtype">bool</span> m_inSimulatedMouseEvent;
<a name="l00923"></a>00923 
<a name="l00924"></a>00924     QCoreApplication *m_QCoreApplication;
<a name="l00925"></a>00925 
<a name="l00926"></a><a class="code" href="classWebAppManager.htm#a2f57502cb2c89161e13ed7a91fc85596">00926</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classWebPage.htm">WebPage</a>;
<a name="l00927"></a><a class="code" href="classWebAppManager.htm#adde74168d71d7bdbd1c678daff261c8e">00927</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classWebAppBase.htm">WebAppBase</a>;
<a name="l00928"></a><a class="code" href="classWebAppManager.htm#ab9b68cba58a2091180367c2ca996f5ad">00928</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classWindowedWebApp.htm">WindowedWebApp</a>;
<a name="l00929"></a><a class="code" href="classWebAppManager.htm#ace0bfd3a9d3b369ca160e1f7fc93fc9b">00929</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMemoryWatcher.htm">MemoryWatcher</a>;
<a name="l00930"></a><a class="code" href="classWebAppManager.htm#af04fabd91189ed6162b4346d5564b37a">00930</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classJsSysObject.htm">JsSysObject</a>;
<a name="l00931"></a><a class="code" href="classWebAppManager.htm#aae1b23ca2095392f601c72e9777dd39d">00931</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classCardWebApp.htm">CardWebApp</a>;
<a name="l00932"></a><a class="code" href="classWebAppManager.htm#adf0accd1c50086338b2ac58012637639">00932</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAlertWebApp.htm">AlertWebApp</a>;
<a name="l00933"></a><a class="code" href="classWebAppManager.htm#a66b64d915ff97a41c6847e109e61b419">00933</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classDashboardWebApp.htm">DashboardWebApp</a>;
<a name="l00934"></a><a class="code" href="classWebAppManager.htm#ae1701c7594fe2cf1c96b951a52eb0396">00934</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classProcessManager.htm">ProcessManager</a>;
<a name="l00935"></a>00935 };
<a name="l00936"></a>00936 
<a name="l00937"></a>00937 <span class="preprocessor">#endif </span><span class="comment">/* BROWSERAPPMANAGER_H */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="WebAppManager_8h.htm">WebAppManager.h</a>      </li>

    <li class="footer">Generated on Sun Oct 14 2012 10:10:59 for LunaSysMgr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
